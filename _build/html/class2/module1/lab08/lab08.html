<!DOCTYPE html>
<head>
  
  <!-- Google Tag Manager -->
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-PPZPQ6');</script>
  <!-- End Google Tag Manager -->
    <title>Failure Condition</title>
  

  <meta charset="utf-8">
  <!-- Twitter Bootstrap viewport setting -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <!-- F5 metadata -->
  <meta name="kb_doc_type" content="Manual"/>
  <meta name="kb_doc_type" content="User Guide"/>
  <meta name="title" content="Failure Condition"/>
  <meta name="product" content="Reference Architecture"/>
  <meta name="version" content=""/>
  <meta name="updated_date"  content="None"/>
  <meta name="archived" content="Archived documents excluded"/>

  

  
  <link href="https://cdn.f5.com/favicon.ico" rel="icon">

</head>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Failure Condition &#8212; Reference Architecture  documentation</title>
    <link rel="stylesheet" href="../../../_static/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/f5_agility_theme.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/f5.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/f5-theme.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css" />
    <link rel="stylesheet" type="text/css" href="https://use.fontawesome.com/21fb8a09c3.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Rest API" href="../lab09/lab09.html" />
    <link rel="prev" title="Results" href="../lab07/task4.html" />

  
    

  
  </head><body>
  <div id="clouddocs-header"></div>

    <div id="dismiss">
      <button type="button" class="btn btn-info navbar-btn site-hidden">
        <i class="fa fa-align-justify"></i>
      </button>
    </div>
    <div id="sidebar" class="section-nav">
      
      <nav class="nav-sidebartoc">
        <h5>Reference Architecture  documentation </h5>
<div id="searchbox" role="search">
  <form class="search" action="../../../search.html" method="get">
    <input type="text" class="search" name="q" placeholder=" Search..." />
    <button type="submit" class="btn btn-info navbar-btn"><i class="fa fa-search"></i></button>
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        <hr>
        <h5>Current Page</h5>
        <span class="nav-sidebartoc">
            <ul>
<li><a class="reference internal" href="#">Failure Condition</a></li>
</ul>

         </span>
        <hr>
        <h5>Site Contents</h5>
        <span class="nav-sidebartoc">
            <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../class2.html">DNS</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../module1.html">Availability</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../intro.html">Network Map</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lab01/lab01.html">System</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lab02/lab02.html">Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lab03/lab03.html">Listeners</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lab04/lab04.html">Data Centers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lab05/lab05.html">Pools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lab06/lab06.html">FQDN</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lab07/lab07.html">Delegation</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Failure Condition</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../lab09/lab09.html">Rest API</a></li>
<li class="toctree-l3"><a class="reference internal" href="../lab10/lab10.html">Congratulations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../module2/module2.html">Security</a></li>
</ul>
</li>
</ul>

        </span><!-- Use this file to add extra links to the bottom of the ToC sidebar -->
<hr>
  <span class="nav-sidebartoc">
 <!-- insert content here -->
  </span>
      </nav>
    </div>

  
  <div class="main active" id="content">
    <article class="docs-container site-article-inner">
            <nav class="site-breadcrumb-nav site-nav">
          <ul class="site-breadcrumb-list">
            <li class="breadcrumb-item"><button type="button" id="sidebarCollapse" class="btn btn-info navbar-btn site-hidden"><i class="fa fa-align-justify"></i></button>&#x20 <a href="/">F5 Cloud Docs</a> &gt; <a href="../../../index.html">Reference Architecture </a> &gt; Failure Condition</li>
          </ul>
      </nav>
      
      

    
  <div class="section" id="failure-condition">
<h1>Failure Condition<a class="headerlink" href="#failure-condition" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<p>Having followed the excercises up to this point will have resulted in the creation of an active/active disaster recovery topology. An alternating response is received when querying www.example.com. From the command prompt in the Jumpbox type “dig www.example.com”. Repeat dig commands and observe the TTL counting down.</p>
<blockquote>
<div><img alt="../../../_images/dc01_new_delegation_create_cname_results.png" class="align-left" src="../../../_images/dc01_new_delegation_create_cname_results.png" />
</div></blockquote>
<p>Log into both the Active and the Standby ADC device in SITE1 and disable all interfaces.</p>
<p><a class="reference external" href="https://bigip1.site1.example.com/tmui/Control/jspmap/tmui/locallb/network/interface/list.jsp">https://bigip1.site1.example.com/tmui/Control/jspmap/tmui/locallb/network/interface/list.jsp</a></p>
<p><a class="reference external" href="https://bigip2.site1.example.com/tmui/Control/jspmap/tmui/locallb/network/interface/list.jsp">https://bigip2.site1.example.com/tmui/Control/jspmap/tmui/locallb/network/interface/list.jsp</a></p>
<blockquote>
<div><img alt="../../../_images/site1_bigip1_disabled-interface.png" class="align-left" src="../../../_images/site1_bigip1_disabled-interface.png" />
</div></blockquote>
<p>TMSH command to run on bigip1.site1 and bigip2.site1 to simulate a network failure</p>
<blockquote>
<div><div class="admonition-tmsh admonition">
<p class="first admonition-title">TMSH</p>
<p class="last">tmsh modify interface all disabled</p>
</div>
</div></blockquote>
<p>Log into gtm1.site1 and observe the status of “Server” objects:</p>
<blockquote>
<div><img alt="../../../_images/site1_adc_failure.png" class="align-left" src="../../../_images/site1_adc_failure.png" />
<p><a class="reference external" href="https://gtm1.site1.example.com/tmui/Control/jspmap/tmui/globallb/server/list.jsp">https://gtm1.site1.example.com/tmui/Control/jspmap/tmui/globallb/server/list.jsp</a></p>
<div class="admonition-tmsh admonition">
<p class="first admonition-title">TMSH</p>
<p class="last">tmsh show gtm server</p>
</div>
<img alt="../../../_images/dig_results_failure.png" class="align-left" src="../../../_images/dig_results_failure.png" />
</div></blockquote>
<p>Log into bigip1.site1 and bigip2.site1 and enable all interfaces</p>
<p><a class="reference external" href="https://bigip1.site1.example.com/tmui/Control/jspmap/tmui/locallb/network/interface/list.jsp">https://bigip1.site1.example.com/tmui/Control/jspmap/tmui/locallb/network/interface/list.jsp</a></p>
<p><a class="reference external" href="https://bigip2.site1.example.com/tmui/Control/jspmap/tmui/locallb/network/interface/list.jsp">https://bigip2.site1.example.com/tmui/Control/jspmap/tmui/locallb/network/interface/list.jsp</a></p>
<blockquote>
<div><div class="admonition-tmsh admonition">
<p class="first admonition-title">TMSH</p>
<p class="last">tmsh modify interface all enabled</p>
</div>
</div></blockquote>
</div>


    
     <div class="row next-prev-btn-row">
       <div class="col-lg-12">
       
        <a href="../lab07/task4.html" title="Results" accesskey="p" class="btn btn-primary pull-left"><i class="fa fa-arrow-circle-left" aria-hidden="true"></i> Previous</a>
       
       
          <a href="../lab09/lab09.html" title="Rest API" accesskey="n" class="btn btn-primary pull-right">Next <i class="fa fa-arrow-circle-right" aria-hidden="true"></i></a>
       
     </div>
     </div>
    

    </article>
  </div>

</div>


  <div id="clouddocs-footer"></div>
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->

  <script src="../../../_static/js/bootstrap.min.js"></script>
  <script src="../../../_static/js/clouddocs.js"></script>
  </body>
</html>